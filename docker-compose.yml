services:
  blazorapp:
    build:
      context: .
      dockerfile: BlazorServerApp.ViewBlazor/Dockerfile
    ports:
      - "8080:80"
    environment:
      - ConnectionStrings__DefaultConnection=Data Source=/data/BlazorApp.db
      - OpenIdConnect__ClientId=${OIDC_CLIENT_ID:-}
      - OpenIdConnect__ClientSecret=${OIDC_CLIENT_SECRET:-}
    volumes:
      - blazor-data:/data

volumes:
  blazor-data:
